<!DOCTYPE html>
<html lang="en">
  {% include head.html %}
  <body>
      {% include header.html %}
      <div id="particles-js"></div>
      <div class="calculator-wrapper container-fluid">
        <div class="row justify-content-center align-items-start">
          <div class="col-12">
            {{ content }}
          </div>
        </div>
      </div>
      {% include footer.html %}
      
      <!-- Load particles.js with defer -->
      <script src="//cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js" defer></script>
      
      <!-- Load scripts with defer to prevent render blocking -->
      <script src="{{ "/assets/js/main.js" | prepend: site.baseurl }}" defer></script>
      <script src="{{ "/assets/js/calculator.js" | prepend: site.baseurl }}" defer></script>
      
      <!-- Load Bootstrap JS only when needed and after page is ready -->
      <script>
        // Only load Bootstrap JS when needed
        if (document.readyState === 'complete' || document.readyState === 'interactive') {
          loadBootstrap();
        } else {
          document.addEventListener('DOMContentLoaded', loadBootstrap);
        }
        
        function loadBootstrap() {
          // Use a lightweight version or only load what's needed
          const bootstrapScript = document.createElement('script');
          bootstrapScript.src = 'https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js';
          bootstrapScript.defer = true;
          document.body.appendChild(bootstrapScript);
        }
      </script>
  </body>
</html>
